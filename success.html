<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=yes">
    <meta name="theme-color" content="#4a90d9">
    <meta name="description" content="Yay! You said yes!">
    <title>Yay! ğŸ’•</title>
    <link rel="icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>ğŸ’•</text></svg>">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="styles.css">
</head>
<body class="page-success">
    <div class="success-kisses-bg" aria-hidden="true">
        <span class="kiss">ğŸ˜˜</span><span class="kiss">ğŸ’‹</span><span class="kiss">ğŸ˜˜</span><span class="kiss">ğŸ’‹</span><span class="kiss">ğŸ˜˜</span><span class="kiss">ğŸ’‹</span><span class="kiss">ğŸ˜˜</span><span class="kiss">ğŸ’‹</span><span class="kiss">ğŸ˜˜</span><span class="kiss">ğŸ’‹</span>
        <span class="kiss">ğŸ˜˜</span><span class="kiss">ğŸ’‹</span><span class="kiss">ğŸ˜˜</span><span class="kiss">ğŸ’‹</span><span class="kiss">ğŸ˜˜</span><span class="kiss">ğŸ’‹</span><span class="kiss">ğŸ˜˜</span><span class="kiss">ğŸ’‹</span><span class="kiss">ğŸ˜˜</span><span class="kiss">ğŸ’‹</span>
        <span class="kiss">ğŸ˜˜</span><span class="kiss">ğŸ’‹</span><span class="kiss">ğŸ˜˜</span><span class="kiss">ğŸ’‹</span><span class="kiss">ğŸ˜˜</span><span class="kiss">ğŸ’‹</span><span class="kiss">ğŸ˜˜</span><span class="kiss">ğŸ’‹</span><span class="kiss">ğŸ˜˜</span><span class="kiss">ğŸ’‹</span>
        <span class="kiss">ğŸ˜˜</span><span class="kiss">ğŸ’‹</span><span class="kiss">ğŸ˜˜</span><span class="kiss">ğŸ’‹</span><span class="kiss">ğŸ˜˜</span><span class="kiss">ğŸ’‹</span><span class="kiss">ğŸ˜˜</span><span class="kiss">ğŸ’‹</span><span class="kiss">ğŸ˜˜</span><span class="kiss">ğŸ’‹</span>
    </div>
    <div class="success-love-bg" aria-hidden="true">
        <span>I love you Shona</span><span>I love you baby</span><span>I love you cutiepie</span><span>I love you raja</span><span>I love you motu</span><span>I love you bebo</span>
        <span>I love you Shona</span><span>I love you baby</span><span>I love you cutiepie</span><span>I love you raja</span><span>I love you motu</span><span>I love you bebo</span>
        <span>I love you Shona</span><span>I love you baby</span><span>I love you cutiepie</span><span>I love you raja</span><span>I love you motu</span><span>I love you bebo</span>
        <span>I love you Shona</span><span>I love you baby</span><span>I love you cutiepie</span><span>I love you raja</span><span>I love you motu</span><span>I love you bebo</span>
    </div>
    <div class="success-container">
        <div class="success-content">
            <div class="success-photo-wrap">
                <img src="success-photo.png" alt="Us" class="teddy-gif couple-photo success-photo-img">
                <h1 class="success-title">yayaya I knew you would say yes my baby<span class="success-heart" aria-hidden="true">ğŸ’•</span></h1>
            </div>
            <p class="success-valentine-text">Happy Valentine Day Love â¤ï¸</p>
            <button type="button" onclick="createConfetti()" class="btn-celebrate-emoji" title="Celebrate" aria-label="Celebrate">ğŸ‰</button>
        </div>
    </div>
    
    <script>
        function createConfetti() {
            var colors = ['ğŸ’•', 'ğŸ’–', 'âœ¨', 'ğŸ‰'];
            for (var i = 0; i < 20; i++) {
                var confetti = document.createElement('div');
                confetti.textContent = colors[Math.floor(Math.random() * colors.length)];
                confetti.style.position = 'fixed';
                confetti.style.left = Math.random() * 100 + '%';
                confetti.style.top = '-10px';
                confetti.style.fontSize = Math.random() * 1 + 1.5 + 'rem';
                confetti.style.zIndex = '300';
                confetti.style.animation = 'fall ' + (Math.random() * 3 + 2) + 's linear forwards';
                confetti.style.pointerEvents = 'none';
                document.body.appendChild(confetti);
                setTimeout(function(el) { return function() { el.remove(); }; }(confetti), 3000);
            }
        }
        
        // Trigger confetti on page load
        window.addEventListener('load', function() {
            setTimeout(createConfetti, 500);
        });

        // Straight-line grid: kisses and "I love you" in neat rows/columns, no overlap. Mobile: safe zone in center.
        function applyScatter() {
            var kisses = document.querySelectorAll('.success-kisses-bg .kiss');
            var loves = document.querySelectorAll('.success-love-bg span');
            if (!kisses.length || !loves.length) return;

            var isMobile = window.innerWidth <= 768;
            var minL = isMobile ? 10 : 5, maxL = isMobile ? 90 : 95;
            var minT = isMobile ? 8 : 5, maxT = isMobile ? 92 : 95;

            var safeZone = isMobile ? { leftMin: 22, leftMax: 78, topMin: 16, topMax: 84 } : null;

            function inSafeZone(left, top) {
                if (!safeZone) return false;
                return left >= safeZone.leftMin && left <= safeZone.leftMax && top >= safeZone.topMin && top <= safeZone.topMax;
            }

            // Strict grid: straight lines, no jitter. If skipSafeZone, only use points outside center.
            function straightGrid(needCount, cols, skipSafeZone) {
                var rangeL = maxL - minL, rangeT = maxT - minT;
                var positions = [];
                var rows = Math.max(4, Math.ceil((skipSafeZone ? needCount * 2 : needCount) / cols));
                for (var r = 0; r < rows; r++) {
                    for (var c = 0; c < cols; c++) {
                        var left = (cols > 1) ? minL + (c / (cols - 1)) * rangeL : (minL + maxL) / 2;
                        var top = (rows > 1) ? minT + (r / (rows - 1)) * rangeT : (minT + maxT) / 2;
                        if (skipSafeZone && inSafeZone(left, top)) continue;
                        positions.push({ left: left, top: top });
                        if (positions.length >= needCount) return positions;
                    }
                }
                return positions.slice(0, needCount);
            }

            var kissCols = isMobile ? 5 : 8;
            var loveCols = isMobile ? 4 : 6;

            if (isMobile) {
                var kissCount = Math.min(16, Math.ceil(kisses.length / 2));
                var loveCount = Math.min(12, Math.ceil(loves.length / 2));
                var kissPositions = straightGrid(kissCount, kissCols, true);
                var lovePositions = straightGrid(loveCount, loveCols, true);

                for (var k = 0; k < kisses.length; k++) {
                    kisses[k].style.display = (k % 2 === 0 && k / 2 < kissCount) ? '' : 'none';
                    if (k % 2 === 0 && k / 2 < kissPositions.length) {
                        var pos = kissPositions[k / 2];
                        kisses[k].style.left = pos.left + '%';
                        kisses[k].style.top = pos.top + '%';
                    }
                }
                for (var L = 0; L < loves.length; L++) {
                    loves[L].style.display = (L % 2 === 0 && L / 2 < loveCount) ? '' : 'none';
                    if (L % 2 === 0 && L / 2 < lovePositions.length) {
                        var pos = lovePositions[L / 2];
                        loves[L].style.left = pos.left + '%';
                        loves[L].style.top = pos.top + '%';
                    }
                }
            } else {
                var kissPositions = straightGrid(kisses.length, kissCols, false);
                var lovePositions = straightGrid(loves.length, loveCols, false);
                kissPositions.forEach(function(pos, i) {
                    kisses[i].style.display = '';
                    kisses[i].style.left = pos.left + '%';
                    kisses[i].style.top = pos.top + '%';
                });
                lovePositions.forEach(function(pos, i) {
                    loves[i].style.display = '';
                    loves[i].style.left = pos.left + '%';
                    loves[i].style.top = pos.top + '%';
                });
            }
        }
        window.addEventListener('load', applyScatter);
        applyScatter(); // run once in case load already fired
    </script>
    <style>
        @keyframes fall {
            to {
                transform: translateY(100vh) rotate(360deg);
                opacity: 0;
            }
        }
    </style>
</body>
</html>
